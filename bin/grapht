#!/usr/bin/env bash
script="${BASH_SOURCE%/*}/../script/grapht.coffee"

phantom_version=`phantomjs -v`
if [ $? -ne 0 ]; then
  echo "could not find phantomjs!"
  exit 1
fi

if [ "$#" -eq 1 ]; then
  phantomjs $script $1 < /dev/stdin
elif [ "$#" -eq 2 ]; then
  phantomjs $script $1 $2 < /dev/stdin
else
  echo "ERROR:"
  echo "-- grapht was called with unknown arguments:"
  echo "-- grapht requires an initial argument, specifying the graph type."
  echo "-- an optional output type may be specified in a second argument.  Valid values are: png|jpeg|pdf"
  exit 1
fi
